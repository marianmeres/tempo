import{S as Q,i as U,s as X,k as D,l as L,m as N,h,n as W,N as ke,b as I,I as k,O as fe,P as ue,Q as Le,R as Ne,J as K,T as Ie,U as ye,q,r as A,V as Ve,a as y,c as S,M as Y,v as Se,d as T,f as We,g as E,u as te,W as $e,X as we,C as Pe,E as je,F as He,G as qe,Y as F,y as V,z as C,A as M,B as O,H,p as Ae}from"../chunks/index.e503be3a.js";import{c as Z}from"../chunks/index.e15d00df.js";import{h as Re,w as oe}from"../chunks/singletons.33597c68.js";import{c as re}from"../chunks/i18n.63757b31.js";import{p as me}from"../chunks/stores.010e2d94.js";import{M as ze}from"../chunks/MetaOg.e1430189.js";function ve(n,e,t){const r=n.slice();return r[11]=e[t],r}function Te(n,e){let t,r=e[2](e[11])+"",o;return{key:n,first:null,c(){t=D("option"),o=q(r),this.h()},l(l){t=L(l,"OPTION",{});var u=N(t);o=A(u,r),u.forEach(h),this.h()},h(){t.__value=e[11],t.value=t.__value,this.first=t},m(l,u){I(l,t,u),k(t,o)},p(l,u){e=l},d(l){l&&h(t)}}}function Be(n){let e,t,r=[],o=new Map,l,u,a=n[3];const i=s=>s[11];for(let s=0;s<a.length;s+=1){let m=ve(n,a,s),f=i(m);o.set(f,r[s]=Te(f,m))}return{c(){e=D("div"),t=D("select");for(let s=0;s<r.length;s+=1)r[s].c();this.h()},l(s){e=L(s,"DIV",{class:!0});var m=N(e);t=L(m,"SELECT",{class:!0});var f=N(t);for(let g=0;g<r.length;g+=1)r[g].l(f);f.forEach(h),m.forEach(h),this.h()},h(){W(t,"class","text-right appearance-none p-2 rounded cursor-pointer bg-white ring-1 ring-gray-300 hover:bg-gray-100 focus:bg-gray-100 focus:ring-1 focus:outline-0 "),n[0]===void 0&&ke(()=>n[8].call(t)),W(e,"class","")},m(s,m){I(s,e,m),k(e,t);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(t,null);fe(t,n[0]),l||(u=[ue(t,"change",n[8]),ue(t,"change",n[9])],l=!0)},p(s,[m]){m&12&&(a=s[3],r=Le(r,m,i,1,s,a,o,t,Ne,Te,null,ve)),m&9&&fe(t,s[0])},i:K,o:K,d(s){s&&h(e);for(let m=0;m<r.length;m+=1)r[m].d();l=!1,Ie(u)}}}function Fe(n,e,t){const r=ye();Z("NumberColumn");let{from:o=0}=e,{to:l=59}=e,{padLength:u=2}=e,{padWith:a="0"}=e,{value:i}=e;const s=c=>(u&&`${c}`.length<u&&(c=`${c}`.padStart(u,a)),c);let m=[];function f(){i=Ve(this),t(0,i),t(3,m)}const g=()=>r("change",parseInt(i,10));return n.$$set=c=>{"from"in c&&t(4,o=c.from),"to"in c&&t(5,l=c.to),"padLength"in c&&t(6,u=c.padLength),"padWith"in c&&t(7,a=c.padWith),"value"in c&&t(0,i=c.value)},n.$$.update=()=>{if(n.$$.dirty&48)for(let c=o;c<=l;c++)m.push(c)},[i,r,s,m,o,l,u,a,f,g]}class G extends Q{constructor(e){super(),U(this,e,Fe,Be,X,{from:4,to:5,padLength:6,padWith:7,value:0})}}function Ge(n){let e,t;const r=n[6].default,o=Pe(r,n,n[5],null);return{c(){e=D("div"),o&&o.c(),this.h()},l(l){e=L(l,"DIV",{class:!0});var u=N(e);o&&o.l(u),u.forEach(h),this.h()},h(){W(e,"class","fhi flex-1 flex justify-center items-center")},m(l,u){I(l,e,u),o&&o.m(e,null),t=!0},p(l,u){o&&o.p&&(!t||u&32)&&je(o,r,l,l[5],t?qe(r,l[5],u,null):He(l[5]),null)},i(l){t||(E(o,l),t=!0)},o(l){T(o,l),t=!1},d(l){l&&h(e),o&&o.d(l)}}}function Je(n){let e;return{c(){e=D("div"),this.h()},l(t){e=L(t,"DIV",{class:!0});var r=N(e);r.forEach(h),this.h()},h(){W(e,"class","text-center text-red-700 px-4")},m(t,r){I(t,e,r),e.innerHTML=n[3]},p(t,r){r&8&&(e.innerHTML=t[3])},i:K,o:K,d(t){t&&h(e)}}}function Qe(n){let e,t,r,o,l,u,a,i,s,m,f,g,c,v;const w=[Je,Ge],p=[];function P(b,d){return b[3]?0:1}return l=P(n),u=p[l]=w[l](n),{c(){e=D("section"),t=D("div"),r=D("h2"),o=y(),u.c(),a=y(),i=D("div"),s=D("code"),m=q("("),f=q(n[1]),g=q(")"),this.h()},l(b){e=L(b,"SECTION",{class:!0});var d=N(e);t=L(d,"DIV",{class:!0});var j=N(t);r=L(j,"H2",{class:!0});var ae=N(r);ae.forEach(h),j.forEach(h),o=S(d),u.l(d),a=S(d),i=L(d,"DIV",{class:!0});var _=N(i);s=L(_,"CODE",{});var $=N(s);m=A($,"("),f=A($,n[1]),g=A($,")"),$.forEach(h),_.forEach(h),d.forEach(h),this.h()},h(){W(r,"class","text-lg font-semibold"),W(t,"class","text-center opacity-75 group-hover:opacity-100 flex-1 flex flex-col justify-center "),Y(t,"opacity-100",n[2]),Y(t,"font-bold",n[2]),W(i,"class","text-center opacity-75 text-sm font-light flex-1 flex flex-col justify-center "),W(e,"class",c="flex-1 overflow-hidden flex flex-col group "+(n[4].class||"")),Y(e,"bg-amber-200",n[2])},m(b,d){I(b,e,d),k(e,t),k(t,r),r.innerHTML=n[0],k(e,o),p[l].m(e,null),k(e,a),k(e,i),k(i,s),k(s,m),k(s,f),k(s,g),v=!0},p(b,[d]){(!v||d&1)&&(r.innerHTML=b[0]),(!v||d&4)&&Y(t,"opacity-100",b[2]),(!v||d&4)&&Y(t,"font-bold",b[2]);let j=l;l=P(b),l===j?p[l].p(b,d):(Se(),T(p[j],1,1,()=>{p[j]=null}),We(),u=p[l],u?u.p(b,d):(u=p[l]=w[l](b),u.c()),E(u,1),u.m(e,a)),(!v||d&2)&&te(f,b[1]),(!v||d&16&&c!==(c="flex-1 overflow-hidden flex flex-col group "+(b[4].class||"")))&&W(e,"class",c),(!v||d&20)&&Y(e,"bg-amber-200",b[2])},i(b){v||(E(u),v=!0)},o(b){T(u),v=!1},d(b){b&&h(e),p[l].d()}}}function Ue(n,e,t){let{$$slots:r={},$$scope:o}=e,{title:l=""}=e,{unit:u=""}=e,{hi:a=!1}=e,{error:i=null}=e;return n.$$set=s=>{t(4,e=$e($e({},e),we(s))),"title"in s&&t(0,l=s.title),"unit"in s&&t(1,u=s.unit),"hi"in s&&t(2,a=s.hi),"error"in s&&t(3,i=s.error),"$$scope"in s&&t(5,o=s.$$scope)},e=we(e),[l,u,a,i,e,o,r]}class ge extends Q{constructor(e){super(),U(this,e,Ue,Qe,X,{title:0,unit:1,hi:2,error:3})}}function Xe(n){let e,t;return{c(){e=D("div"),t=q(n[0]),this.h()},l(r){e=L(r,"DIV",{class:!0});var o=N(e);t=A(o,n[0]),o.forEach(h),this.h()},h(){W(e,"class","h-full flex items-center")},m(r,o){I(r,e,o),k(e,t)},p(r,[o]){o&1&&te(t,r[0])},i:K,o:K,d(r){r&&h(e)}}}function Ye(n,e,t){let{value:r=":"}=e;return n.$$set=o=>{"value"in o&&t(0,r=o.value)},[r]}class ie extends Q{constructor(e){super(),U(this,e,Ye,Xe,X,{value:0})}}const Ce=n=>{n=parseInt(n,10);const e=Math.floor(n/3600),t=Math.floor((n-e*3600)/60),r=n-e*3600-t*60;return[e,t,r]},Ke=Z("tempo"),ne="distance",se="time",le="tempo";let R=oe(0),z=oe(0),B=oe(0);R.toVals=n=>{const e=Math.floor(n),t=Math.round((n-e)*100);return[e,t]};z.toVals=n=>Ce(n);B.toVals=n=>{const[e,t,r]=Ce(n);return[e*3600+t,r]};let J=oe(null);J.subscribe(Z("lastCalcTarget"));const he=oe([]);he.subscribe(n=>{if(n.length===2){if(!n.includes(ne))return R.set(F(z)/F(B)),J.set(ne);if(!n.includes(se))return z.set(F(B)*F(R)),J.set(se);if(!n.includes(le))return B.set(F(z)/F(R)),J.set(le)}});const pe=n=>{let e=F(he);const t=Math.max(0,e.length-1);e[t]!==n&&e.push(n),e=e.slice(-2),he.set(e)},ce=(n,e)=>{R.set(parseInt(n,10)+parseInt(e,10)/100),pe(ne)},_e=(n,e,t)=>{z.set(60*60*n+60*e+t),pe(se)},Ee=(n,e)=>{B.set(60*n+e),pe(le)};Re([R,z,B],([n,e,t])=>[n,R.toVals(n).join("."),e,z.toVals(e).join(":"),t,B.toVals(t).join(":")]).subscribe(Ke);function Ze(n){let e,t,r,o,l,u,a,i,s,m,f=n[6].raw(n[0],"menu.marathon")+"",g,c,v=n[6].raw(n[0],"menu.halfmarathon")+"",w,p,P=n[6].raw(n[0],"menu.mile")+"",b,d,j,ae;return e=new G({props:{to:Me,padWith:" ",value:n[1]}}),e.$on("change",n[9]),r=new ie({props:{value:"."}}),l=new G({props:{to:"99",padWith:"0",value:n[2]}}),l.$on("change",n[10]),{c(){V(e.$$.fragment),t=y(),V(r.$$.fragment),o=y(),V(l.$$.fragment),u=y(),a=D("select"),i=D("option"),s=q("⋮"),m=D("option"),g=q(f),c=D("option"),w=q(v),p=D("option"),b=q(P),this.h()},l(_){C(e.$$.fragment,_),t=S(_),C(r.$$.fragment,_),o=S(_),C(l.$$.fragment,_),u=S(_),a=L(_,"SELECT",{class:!0,style:!0});var $=N(a);i=L($,"OPTION",{});var x=N(i);s=A(x,"⋮"),x.forEach(h),m=L($,"OPTION",{});var ee=N(m);g=A(ee,f),ee.forEach(h),c=L($,"OPTION",{});var be=N(c);w=A(be,v),be.forEach(h),p=L($,"OPTION",{});var de=N(p);b=A(de,P),de.forEach(h),$.forEach(h),this.h()},h(){i.__value="",i.value=i.__value,m.__value="42:20",m.value=m.__value,c.__value="21:10",c.value=c.__value,p.__value="1:61",p.value=p.__value,W(a,"class","text-center appearance-none p-2 rounded cursor-pointer bg-transparent ring-0 hover:bg-transparent focus:bg-transparent focus:ring-0 focus:outline-0 ml-4 text-gray-700 "),Ae(a,"max-width","calc(1* (2.5rem + 2.5vw))"),n[4]===void 0&&ke(()=>n[11].call(a))},m(_,$){M(e,_,$),I(_,t,$),M(r,_,$),I(_,o,$),M(l,_,$),I(_,u,$),I(_,a,$),k(a,i),k(i,s),k(a,m),k(m,g),k(a,c),k(c,w),k(a,p),k(p,b),fe(a,n[4]),d=!0,j||(ae=[ue(a,"change",n[11]),ue(a,"change",n[12])],j=!0)},p(_,$){const x={};$&2&&(x.value=_[1]),e.$set(x);const ee={};$&4&&(ee.value=_[2]),l.$set(ee),(!d||$&1)&&f!==(f=_[6].raw(_[0],"menu.marathon")+"")&&te(g,f),(!d||$&1)&&v!==(v=_[6].raw(_[0],"menu.halfmarathon")+"")&&te(w,v),(!d||$&1)&&P!==(P=_[6].raw(_[0],"menu.mile")+"")&&te(b,P),$&16&&fe(a,_[4])},i(_){d||(E(e.$$.fragment,_),E(r.$$.fragment,_),E(l.$$.fragment,_),d=!0)},o(_){T(e.$$.fragment,_),T(r.$$.fragment,_),T(l.$$.fragment,_),d=!1},d(_){O(e,_),_&&h(t),O(r,_),_&&h(o),O(l,_),_&&h(u),_&&h(a),j=!1,Ie(ae)}}}function xe(n){let e,t;return e=new ge({props:{title:n[6](n[0],"title"),unit:"km",hi:n[5]===ne,error:n[3],$$slots:{default:[Ze]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},l(r){C(e.$$.fragment,r)},m(r,o){M(e,r,o),t=!0},p(r,[o]){const l={};o&1&&(l.title=r[6](r[0],"title")),o&32&&(l.hi=r[5]===ne),o&8&&(l.error=r[3]),o&16407&&(l.$$scope={dirty:o,ctx:r}),e.$set(l)},i(r){t||(E(e.$$.fragment,r),t=!0)},o(r){T(e.$$.fragment,r),t=!1},d(r){O(e,r)}}}let Me=49;function et(n,e,t){let r,o,l;H(n,R,p=>t(7,r=p)),H(n,me,p=>t(8,o=p)),H(n,J,p=>t(5,l=p)),Z("Distance");let u=re("distance"),a={},i=0,s=0,m=null,f="";const g=({detail:p})=>ce(p,s),c=({detail:p})=>ce(i,p);function v(){f=Ve(this),t(4,f)}const w=p=>{if(f){const[P,b]=f.split(":");ce(P,b)}t(4,f=""),p.target.blur()};return n.$$.update=()=>{n.$$.dirty&256&&t(0,a=o.data.i18n),n.$$.dirty&131&&(t(3,m=null),t(1,[i,s]=R.toVals(r),i,(t(2,s),t(7,r),t(1,i),t(6,u),t(0,a),t(8,o))),i>Me&&t(3,m=u(a,"/out_of_display_range")))},[a,i,s,m,f,l,u,r,o,g,c,v,w]}class tt extends Q{constructor(e){super(),U(this,e,et,xe,X,{})}}function rt(n){let e,t,r,o,l,u,a,i,s,m;return e=new G({props:{to:Oe,padWith:" ",value:n[1]}}),e.$on("change",n[9]),r=new ie({}),l=new G({props:{value:n[2]}}),l.$on("change",n[10]),a=new ie({}),s=new G({props:{value:n[3]}}),s.$on("change",n[11]),{c(){V(e.$$.fragment),t=y(),V(r.$$.fragment),o=y(),V(l.$$.fragment),u=y(),V(a.$$.fragment),i=y(),V(s.$$.fragment)},l(f){C(e.$$.fragment,f),t=S(f),C(r.$$.fragment,f),o=S(f),C(l.$$.fragment,f),u=S(f),C(a.$$.fragment,f),i=S(f),C(s.$$.fragment,f)},m(f,g){M(e,f,g),I(f,t,g),M(r,f,g),I(f,o,g),M(l,f,g),I(f,u,g),M(a,f,g),I(f,i,g),M(s,f,g),m=!0},p(f,g){const c={};g&2&&(c.value=f[1]),e.$set(c);const v={};g&4&&(v.value=f[2]),l.$set(v);const w={};g&8&&(w.value=f[3]),s.$set(w)},i(f){m||(E(e.$$.fragment,f),E(r.$$.fragment,f),E(l.$$.fragment,f),E(a.$$.fragment,f),E(s.$$.fragment,f),m=!0)},o(f){T(e.$$.fragment,f),T(r.$$.fragment,f),T(l.$$.fragment,f),T(a.$$.fragment,f),T(s.$$.fragment,f),m=!1},d(f){O(e,f),f&&h(t),O(r,f),f&&h(o),O(l,f),f&&h(u),O(a,f),f&&h(i),O(s,f)}}}function nt(n){let e,t;return e=new ge({props:{title:n[6](n[0],"title"),unit:"h:mm:ss",hi:n[5]===se,error:n[4],$$slots:{default:[rt]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},l(r){C(e.$$.fragment,r)},m(r,o){M(e,r,o),t=!0},p(r,[o]){const l={};o&1&&(l.title=r[6](r[0],"title")),o&32&&(l.hi=r[5]===se),o&16&&(l.error=r[4]),o&8206&&(l.$$scope={dirty:o,ctx:r}),e.$set(l)},i(r){t||(E(e.$$.fragment,r),t=!0)},o(r){T(e.$$.fragment,r),t=!1},d(r){O(e,r)}}}let Oe=8;function st(n,e,t){let r,o,l;H(n,z,w=>t(7,r=w)),H(n,me,w=>t(8,o=w)),H(n,J,w=>t(5,l=w)),Z("Time");let u=re("time"),a={},i=0,s=0,m=0,f=null;const g=({detail:w})=>_e(w,s,m),c=({detail:w})=>_e(i,w,m),v=({detail:w})=>_e(i,s,w);return n.$$.update=()=>{n.$$.dirty&256&&t(0,a=o.data.i18n),n.$$.dirty&131&&(t(4,f=null),t(1,[i,s,m]=z.toVals(r),i,(t(2,s),t(7,r),t(1,i),t(6,u),t(0,a),t(8,o)),(t(3,m),t(7,r),t(1,i),t(6,u),t(0,a),t(8,o))),i>Oe&&t(4,f=u(a,"/out_of_display_range")))},[a,i,s,m,f,l,u,r,o,g,c,v]}class lt extends Q{constructor(e){super(),U(this,e,st,nt,X,{})}}function ot(n){let e,t,r,o,l,u;return e=new G({props:{padWith:" ",to:De,value:n[1]}}),e.$on("change",n[8]),r=new ie({}),l=new G({props:{value:n[2]}}),l.$on("change",n[9]),{c(){V(e.$$.fragment),t=y(),V(r.$$.fragment),o=y(),V(l.$$.fragment)},l(a){C(e.$$.fragment,a),t=S(a),C(r.$$.fragment,a),o=S(a),C(l.$$.fragment,a)},m(a,i){M(e,a,i),I(a,t,i),M(r,a,i),I(a,o,i),M(l,a,i),u=!0},p(a,i){const s={};i&2&&(s.value=a[1]),e.$set(s);const m={};i&4&&(m.value=a[2]),l.$set(m)},i(a){u||(E(e.$$.fragment,a),E(r.$$.fragment,a),E(l.$$.fragment,a),u=!0)},o(a){T(e.$$.fragment,a),T(r.$$.fragment,a),T(l.$$.fragment,a),u=!1},d(a){O(e,a),a&&h(t),O(r,a),a&&h(o),O(l,a)}}}function at(n){let e,t;return e=new ge({props:{title:n[5](n[0],"title"),unit:"mm:ss / km",hi:n[4]===le,error:n[3],$$slots:{default:[ot]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},l(r){C(e.$$.fragment,r)},m(r,o){M(e,r,o),t=!0},p(r,[o]){const l={};o&1&&(l.title=r[5](r[0],"title")),o&16&&(l.hi=r[4]===le),o&8&&(l.error=r[3]),o&2054&&(l.$$scope={dirty:o,ctx:r}),e.$set(l)},i(r){t||(E(e.$$.fragment,r),t=!0)},o(r){T(e.$$.fragment,r),t=!1},d(r){O(e,r)}}}let De=15;function ft(n,e,t){let r,o,l;H(n,B,c=>t(6,r=c)),H(n,me,c=>t(7,o=c)),H(n,J,c=>t(4,l=c)),Z("Tempo");let u=re("tempo"),a={},i=0,s=0,m=null;const f=({detail:c})=>Ee(c,s),g=({detail:c})=>Ee(i,c);return n.$$.update=()=>{n.$$.dirty&128&&t(0,a=o.data.i18n),n.$$.dirty&67&&(t(3,m=null),t(1,[i,s]=B.toVals(r),i,(t(2,s),t(6,r),t(1,i),t(5,u),t(0,a),t(7,o))),i>De&&t(3,m=u(a,"/out_of_display_range")))},[a,i,s,m,l,u,r,o,f,g]}class ut extends Q{constructor(e){super(),U(this,e,ft,at,X,{})}}function it(n){let e,t,r,o,l,u,a,i;return e=new ze({props:{title:n[0].raw(n[1],"og.title")||n[0].raw(n[1],"html_title"),description:n[0].raw(n[1],"og.description")}}),r=new tt({}),l=new lt({}),a=new ut({}),{c(){V(e.$$.fragment),t=y(),V(r.$$.fragment),o=y(),V(l.$$.fragment),u=y(),V(a.$$.fragment)},l(s){C(e.$$.fragment,s),t=S(s),C(r.$$.fragment,s),o=S(s),C(l.$$.fragment,s),u=S(s),C(a.$$.fragment,s)},m(s,m){M(e,s,m),I(s,t,m),M(r,s,m),I(s,o,m),M(l,s,m),I(s,u,m),M(a,s,m),i=!0},p(s,[m]){const f={};m&3&&(f.title=s[0].raw(s[1],"og.title")||s[0].raw(s[1],"html_title")),m&3&&(f.description=s[0].raw(s[1],"og.description")),e.$set(f)},i(s){i||(E(e.$$.fragment,s),E(r.$$.fragment,s),E(l.$$.fragment,s),E(a.$$.fragment,s),i=!0)},o(s){T(e.$$.fragment,s),T(r.$$.fragment,s),T(l.$$.fragment,s),T(a.$$.fragment,s),i=!1},d(s){O(e,s),s&&h(t),O(r,s),s&&h(o),O(l,s),s&&h(u),O(a,s)}}}function mt(n,e,t){let r;H(n,me,u=>t(2,r=u));let o=re(null),l={};return n.$$.update=()=>{n.$$.dirty&4&&t(0,o=re(r.route.id)),n.$$.dirty&4&&t(1,l=r.data.i18n)},[o,l,r]}class dt extends Q{constructor(e){super(),U(this,e,mt,it,X,{})}}export{dt as default};
